<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=X-UA-Compatible content="IE=edge, chrome=1"><title>HTB: Dancing - Jamie Gunner</title><meta name=Description content="Starting Point Dancing HTB"><meta property="og:url" content="https://swiftlaggy.github.io/blog/dancing/dancing/">
<meta property="og:site_name" content="Jamie Gunner"><meta property="og:title" content="HTB: Dancing"><meta property="og:description" content="Starting Point Dancing HTB"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2024-09-08T21:42:00+01:00"><meta property="article:modified_time" content="2024-09-08T21:45:31+01:00"><meta property="og:image" content="https://swiftlaggy.github.io/images/sw.svg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://swiftlaggy.github.io/images/sw.svg"><meta name=twitter:title content="HTB: Dancing"><meta name=twitter:description content="Starting Point Dancing HTB"><meta name=twitter:site content="@SwiftLaggy"><meta name=application-name content="Jamie Gunner"><meta name=apple-mobile-web-app-title content="Jamie Gunner"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=canonical href=https://swiftlaggy.github.io/blog/dancing/dancing/><link rel=prev href=https://swiftlaggy.github.io/blog/fawn/fawn/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"HTB: Dancing","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/swiftlaggy.github.io\/blog\/dancing\/dancing\/"},"image":["https:\/\/swiftlaggy.github.io\/images\/sw.jpeg"],"genre":"blog","wordcount":650,"url":"https:\/\/swiftlaggy.github.io\/blog\/dancing\/dancing\/","datePublished":"2024-09-08T21:42:00+01:00","dateModified":"2024-09-08T21:45:31+01:00","publisher":{"@type":"Organization","name":"Jamie Gunner","logo":"https:\/\/swiftlaggy.github.io\/images\/sw.jpeg"},"author":{"@type":"Person","name":"Jamie Gunner"},"description":"Starting Point Dancing HTB"}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"dark"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Jamie Gunner">Jamie Gunner</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/>Home </a><a class=menu-item href=/about/>About </a><a class=menu-item href=/blog/>Blog </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i>
</span></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Jamie Gunner">Jamie Gunner</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/ title>Home</a><a class=menu-item href=/about/ title>About</a><a class=menu-item href=/blog/ title>Blog</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class="page single special"><h1 class="single-title animated pulse faster">HTB: Dancing</h1><div class=content id=content><h1 id=introduction>Introduction</h1><p>I was successful in completing the second starting point box for HackTheBox, by the name of &ldquo;Dancing&rdquo;. This was a great introduction, as it allowed me to acclimatise to these machines and to understand how they function. In order for me to hack these boxes, I will be utilising my own personal machine, which is running Parrot OS on VMware. (You might see different IP&rsquo;s listed in these write-ups. This is due to completing areas on different days.)
Before we begin to hack this machine, we must first answer a couple of questions.</p><h1 id=task-1>Task 1</h1><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/TaskAcronym.jpg data-srcset="../images/TaskAcronym.jpg, ../images/TaskAcronym.jpg 1.5x, ../images/TaskAcronym.jpg 2x" data-sizes=auto alt=../images/TaskAcronym.jpg title="Picture 1"></p><p>At the beginning of this task, it asks of you the explanation of the acronym SMB, which is Server Message Block.</p><h1 id=task-2>Task 2</h1><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/TaskPort.jpg data-srcset="../images/TaskPort.jpg, ../images/TaskPort.jpg 1.5x, ../images/TaskPort.jpg 2x" data-sizes=auto alt=../images/TaskPort.jpg title="Picture 2"></p><p>Server Message Block lives on port 445 and port 139 when it is communicating over NetBIOS however, this is quite old and is not seen as often.</p><h1 id=starting-point---ping>Starting Point - Ping</h1><p>It is important that you are connected to the boxes before you can begin hacking them. We can do this by performing the command <code>ping</code>, followed by the machine&rsquo;s IP. Below is an example of the command ping being performed:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ping machineIP
</span></span></code></pre></td></tr></table></div></div><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/Ping.jpg data-srcset="../images/Ping.jpg, ../images/Ping.jpg 1.5x, ../images/Ping.jpg 2x" data-sizes=auto alt=../images/Ping.jpg title="Picture 3"></p><h1 id=using-nmap>Using Nmap</h1><p>The next tool we will be using is <code>nmap</code>. Nmap gives us plenty of options, those of which, we will explore in other boxes that I will complete later on in this website. Below, you can see the scan in question:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>nmap -sV -vv machineIP
</span></span></code></pre></td></tr></table></div></div><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/Nmap.jpg data-srcset="../images/Nmap.jpg, ../images/Nmap.jpg 1.5x, ../images/Nmap.jpg 2x" data-sizes=auto alt=../images/Nmap.jpg title="Picture 4"></p><h1 id=task-3>Task 3</h1><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/TaskService.jpg data-srcset="../images/TaskService.jpg, ../images/TaskService.jpg 1.5x, ../images/TaskService.jpg 2x" data-sizes=auto alt=../images/TaskService.jpg title="Picture 5"></p><p>After completing our <code>nmap</code> scan, we can see there are three ports open however, as we know, SMB resides on port 445. We can see the service name on 445 is called <code>microsoft-ds</code>.</p><h1 id=smb-help>SMB Help</h1><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/SMBclienthelp.jpg data-srcset="../images/SMBclienthelp.jpg, ../images/SMBclienthelp.jpg 1.5x, ../images/SMBclienthelp.jpg 2x" data-sizes=auto alt=../images/SMBclienthelp.jpg title="Picture 6"></p><p>Within the terminal, I am now using a new service/application. Therefore, I want to look at the options I can use within the service to ensure I am using it correctly. The image above is actually an error message help screen however, you can get a better and more in-depth version using the <code>-?</code> or <code>--help</code> options.</p><h1 id=task-4>Task 4</h1><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/TaskSMBOption.jpg data-srcset="../images/TaskSMBOption.jpg, ../images/TaskSMBOption.jpg 1.5x, ../images/TaskSMBOption.jpg 2x" data-sizes=auto alt=../images/TaskSMBOption.jpg title="Picture 7"></p><p>As we can see from the above terminal screenshot, <code>-L</code> is the option we are looking for in order to list the available shares on the box.</p><h1 id=task-5>Task 5</h1><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/TaskShares.jpg data-srcset="../images/TaskShares.jpg, ../images/TaskShares.jpg 1.5x, ../images/TaskShares.jpg 2x" data-sizes=auto alt=../images/TaskShares.jpg title="Picture 8"></p><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/SMBlist.jpg data-srcset="../images/SMBlist.jpg, ../images/SMBlist.jpg 1.5x, ../images/SMBlist.jpg 2x" data-sizes=auto alt=../images/SMBlist.jpg title="Picture 9"></p><p>Now, using the option, we can see there are 4 shares available on this box.</p><h1 id=task-6>Task 6</h1><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/TaskPassword.jpg data-srcset="../images/TaskPassword.jpg, ../images/TaskPassword.jpg 1.5x, ../images/TaskPassword.jpg 2x" data-sizes=auto alt=../images/TaskPassword.jpg title="Picture 10"></p><p>I made a small assumption from this point, that <code>WorkShares</code> was the share we could access without a password. It was also a huge hint from HTB however, it would be incredibly unsecure if they allowed anyone into the Admin or C drive.</p><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/SMBworkshares.jpg data-srcset="../images/SMBworkshares.jpg, ../images/SMBworkshares.jpg 1.5x, ../images/SMBworkshares.jpg 2x" data-sizes=auto alt=../images/SMBworkshares.jpg title="Picture 11"></p><p>We can see within the <code>WorkShares</code> that there are two folder locations, <code>Amy.J</code> and <code>James.P</code>. We can access both of these. As shown in the screenshot below, the Amy folder possesses a text file called <code>worknotes</code>.</p><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/SMBlsworknotes.jpg data-srcset="../images/SMBlsworknotes.jpg, ../images/SMBlsworknotes.jpg 1.5x, ../images/SMBlsworknotes.jpg 2x" data-sizes=auto alt=../images/SMBlsworknotes.jpg title="Picture 12"></p><p>In the next screenshots, we <code>get</code> the <code>worknotes.txt</code> file, and look inside to find a set of instructions however, this is most likely not important to us. However, in later boxes, it might be useful to remember that there is an Apache server, and they are in the process of securing the FTP server.</p><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/Getworknotes.jpg data-srcset="../images/Getworknotes.jpg, ../images/Getworknotes.jpg 1.5x, ../images/Getworknotes.jpg 2x" data-sizes=auto alt=../images/Getworknotes.jpg title="Picture 13"></p><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/Worknotes.jpg data-srcset="../images/Worknotes.jpg, ../images/Worknotes.jpg 1.5x, ../images/Worknotes.jpg 2x" data-sizes=auto alt=../images/Worknotes.jpg title="Picture 14"></p><h1 id=task-7>Task 7</h1><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/TaskGet.jpg data-srcset="../images/TaskGet.jpg, ../images/TaskGet.jpg 1.5x, ../images/TaskGet.jpg 2x" data-sizes=auto alt=../images/TaskGet.jpg title="Picture 15"></p><p>Lastly, as we saw in the previous task, we used the <code>get</code> command to download the files we want. In the screenshot below, we can see that James has our flat.</p><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/SMBlsFlag.jpg data-srcset="../images/SMBlsFlag.jpg, ../images/SMBlsFlag.jpg 1.5x, ../images/SMBlsFlag.jpg 2x" data-sizes=auto alt=../images/SMBlsFlag.jpg title="Picture 16"></p><p>So now we <code>get flag.txt</code> and then open it to get our flag and complete our next box.</p><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/Getflag.jpg data-srcset="../images/Getflag.jpg, ../images/Getflag.jpg 1.5x, ../images/Getflag.jpg 2x" data-sizes=auto alt=../images/Getflag.jpg title="Picture 17"></p><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/Flag.jpg data-srcset="../images/Flag.jpg, ../images/Flag.jpg 1.5x, ../images/Flag.jpg 2x" data-sizes=auto alt=../images/Flag.jpg title="Picture 18"></p><h1 id=final-thoughts>Final Thoughts</h1><p>This concludes the finishing stages for this box on HackTheBox. It provided a good insight into SMB, allowing me to learn the basics of SMB, how to traverse and obtain another flag. I have used SMB in the past for my university module, so this was not entirely new to me but, it was nice being able to revisit an old vulnerability. I would like to experience more with SMB and see what I can do with it in the future.</p></div></div></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2020 - 2024</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank></a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:10},comment:{},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>